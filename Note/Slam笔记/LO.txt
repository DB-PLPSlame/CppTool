ROS坐标系分类：
一个机器人系统中通常会有多个三维参考坐标系，而且这些坐标系之间的相对关系随时间推移会变化。这里举一个实际的机器人应用场景例子，来说明这种关系和变化
--->全局世界坐标系：通常为激光slam构建出来的栅格地图的坐标系map。
--->机器人底盘坐标系：通常为机器人底盘的坐标系base_footprint或者base_link。
--->机器人上各部件自己的坐标系：比如激光雷达、imu等传感器自己的坐标系base_laser_link、imu_link。

这些坐标系之间的关系有些是静态的、有些是动态的。
当机器人底盘移动的过程中，机器人底盘与世界的相对关系map->base_footprint是动态的；
而安装在机器人底盘上的激光雷达、imu这些传感器与机器人底盘的相对关系base_footprint->base_laser_link、base_footprint->imu_link是静态的。

tf::TransformListener.lookupTransform()：监听坐标系间相对转换关系
tf::TransformBroadcaster().sendTransform()：用于发布坐标转换关系

Eigen::Isometry3d

====================
激活码：https://www.jianshu.com/p/ddb1873d0aac

====================
rf2o：
有关算法的完整说明，请参阅：来自径向激光扫描仪的平面测距法。基于范围流的方法。
ICRA 2016可在：http : //mapir.isa.uma.es/work/rf2o

(1)公式(10)~(15)之可能包含两种方法?(IRLS)
(2)Cauchy M-estimator是如何将(10)~(12)互相带入的?

(3)如何在两个扫描帧进行数据处理，粗到细的方案和扫描弯曲(为了克服阿基米德螺旋)
--->初始，获取两次连续的激光扫描R0、R1
--->通过连续下采样R0、R1，创建两个高斯金字塔，使双边滤波器(通常高斯掩码应用于下采样RGB或灰度图，但是范围数据采双边滤波器更合适)
--->速度估计问题，从最粗到最细迭代求解
--->在每次过渡到一个水平时，两个输入扫描中的一个必须根据先前水平中估计的总体速度（ξp）相互扭曲。
--->这种变形过程总是分为两个步骤(16)(17)(18)，并且在我们的公式中，应用于第二次扫描R1

(4)如何选取计算的扫描区域
--->通常，使用固定的离散公式来近似扫描或图像梯度
--->在范围数据的情况下，该策略导致对象边界处的梯度的非常高的值，其不表示这些对象上的真实梯度
--->作为替代方案，我们使用一种考虑环境几何形状的自适应公式(19)

(5)最后，重要的是要注意到存在一些环境的几何配置，传感器运动无法从中恢复
--->最常见的情况当激光雷达仅观察到一堵墙时，平行于墙的运动是不确定的，因此求解器将为它提供一个任意的解(不仅是我们的方法，而且是任何纯粹基于几何的方法)
--->为了缓解这个问题，我们在速度ξ的本征空间中应用低通滤波器，以获得新的滤波速度ξt，(20)(21)

====================
代码不懂的地方：handleLaser
--->handleLaser.margin/size(new_scan.angle_max-new_scan.angle_min > 4.5)
--->range_wf(width - i - 1) = last_scan.ranges[i];  // weizhi xiangfan?

--->robot_pose_/lin_speed/ang_speed
--->robot_pose_.rotation()是否包含roll/pitch?

pyr_levels

====================
3、2D激光SLAM的应用
数据的预处理—非常重要！！！
轮式里程计的标定
不同系统之间的时间同步
激光雷达运动畸变去除

4、实际环境中的问题：
动态物体
环境变化
全局定位
几何结构相似环境
上坡、地面凹凸不平
激光雷达运动畸变（机器人发生大幅度的运动，会导致扫描到的点云产生严重的变形）
机器人载重的改变
地面材质的变化
建图的操作复杂

笛卡尔坐标系：yaw/pitch/roll
==================
问题一：上下坡
(1)方案一：设置坡度阈值，俯仰角(angle of pitch)数值超过时，忽略激光数据 X
(2)方案二：将相对位姿变化量，乘以cos(pitch)

注意：
--->都可以通过VO校正或切换VO模式
--->对传感器数据时间同步度要求高

==================
问题二：地面凹凸不平(laser测量估计转向)
(1)方案一：pitch与初始位置（充电或起始位置，地面平整出）相比相差越大，LO置信度越低，适当降低置信度 X
(2)方案二：if (imu.yaw == 0 && (imu.roll > 0 || imu.pitch > 0)) 清楚激光估计yaw

注意：
--->都可以通过VO校正或切换VO模式
--->对传感器数据时间同步度要求高

==================
问题三：动态物体


=================
问题四*：针无明显特征场景(如：行走在墙壁光滑的长直走廊中），LO估计与静止时相同（LO都有的难题, 2D尤其严重）
--->依靠其他传感器
--->或者增大LO方差 X


